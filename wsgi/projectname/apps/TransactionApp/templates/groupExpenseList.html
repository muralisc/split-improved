{% extends 'base.html' %}
{% block title %}
{% endblock %}

{% block ngAppName %} ng-app="YourAppName" {% endblock %}

{% block header %}
{% endblock %}


{% block body%}
<div class="offset1 span10" ng-controller="TimeFilterController">
	<div>
		<select ng-model="timeRange" ng-change="showExpenseList()">
			<option value="" selected="selected">---------</option>
			<option value="{{THIS_MONTH}}">This Month</option>
			<option value="{{LAST_MONTH}}">Last Month</option>
			<option value="{{CUSTOM_RANGE}}">Enter custom timerange</option>
		</select>
		<div ng-show="timeRange=={{CUSTOM_RANGE}}">
			<input id="id_t_st" type="date" ng-model="t_s" class="input-small" name="t_st"/> to
			<input id="id_t_et" type="date" ng-model="t_e" class="input-small" name="t_et"/>
			<a ng-click="sentTimeRange()">Filter</a><br/>
		</div>
		<div>{{start_time}} to {{end_time}}</div>
	</div>
{%if transaction_list_with_expense%}
	<table class="table table-hover table-condensed">
			<thead>
				<tr>
				  <th>name</th>
				  <th>Amount</th>
				  <th>Description</th>
				  <th>PaidFor</th>
				  <th>DatePaid</th>
				  <th>Expense</th>
				  <th>CumExpense</th>
				</tr>
			</thead>
{% for i in transaction_list_with_expense%}
			<tbody>
				<tr>
				  <td class="span1">{{i.0.paid_user}}</td>
				  <td class="span1">{{i.0.amount}}</td>
				  <td class="span1">{{i.0.description}}</td>
				  <td class="span1">{%for usr in i.0.users_involved.all%}
									{{usr}}<br/>
									{%endfor%}
									</td>
				  <td class="span2">{{i.0.transaction_time}}</td>
				  <td class="span1">{{i.1|floatformat}}</td>
				  <td class="span1">{{i.2|floatformat}}</td>
				</tr>
			</tbody>
{% endfor %}
	</table>
{%endif%}
</div>

{% endblock %}


{% block footer%}
{% endblock %}


{% block afterbody%}
<script src="{{ STATIC_URL }}timeFilterController.js"></script>
{% endblock %}
